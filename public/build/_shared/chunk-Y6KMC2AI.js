import{a as p}from"/build/_shared/chunk-XKUTJMYR.js";import{a as P}from"/build/_shared/chunk-HK3UUHQE.js";import{a as w}from"/build/_shared/chunk-UIIZTT64.js";import{a as H,b as c}from"/build/_shared/chunk-WPWRVLZN.js";import{e as n}from"/build/_shared/chunk-2TWE7TSA.js";var v=n(H(),1);function f(){let t=(0,v.useContext)(w);if(!t)throw new Error("useGameSocket must be used within a GameSocketProvider");return t}function u(){return f().game}var r=n(c(),1),G=({username:t,influence:o,coins:s,isCurrentPlayer:i=!1})=>{let e=u();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"inline-flex items-center gap-1",children:[i&&(0,r.jsx)("span",{className:"inline-block rounded-full bg-nord-13 w-2 h-2"}),"Username: ",t]}),(0,r.jsxs)("li",{children:["Coins: ",s]})]}),(0,r.jsx)("div",{className:`grid grid-cols-${o.length} gap-2`,children:o.map(l=>(0,r.jsx)(p,{isFaceDown:!e||e.status==="WAITING",...l},l.id))})]})};var m=n(c(),1);var x=({influence:t,coins:o})=>{let s=u();return(0,m.jsxs)("div",{className:"grid grid-rows-[auto_auto] px-2 pb-2",children:[(0,m.jsxs)("div",{children:["Coins: ",o]}),(0,m.jsx)("div",{className:`grid grid-cols-${t.length} gap-2`,children:t.map(i=>(0,m.jsx)(p,{isFaceDown:!s||s.status==="WAITING",...i},i.id))})]})};var a=n(c(),1),$=({playerId:t,status:o,onStartGame:s,children:i})=>{let{game:e}=f();if(!e)return null;let l=e.players.findIndex(d=>d.id===t),g=e.players[l],h=e.players[e.currentPlayerIndex],y=e.players.slice(l+1).concat(e.players.slice(0,l));return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-stretch justify-betweeen gap-2 relative",children:[(0,a.jsx)("div",{className:"flex-auto grid grid-cols-4 grid-rows-[auto_auto_auto] gap-4",children:y.map((d,b)=>(0,a.jsx)("div",{className:`col-span-2 ${I(b,y.length)}`,children:(0,a.jsx)(G,{...d,isCurrentPlayer:h.id===d.id})},d.id))}),g!=null&&(0,a.jsxs)("div",{className:"flex-none relative",children:[(0,a.jsx)(x,{...g}),o==="WAITING"&&s&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 rounded-xl bg-nord-4/10",children:(0,a.jsx)(P,{type:"button",variant:"success",onClick:()=>s(),children:"Start Game"})})]}),i]})};function I(t,o){switch(o){case 5:return["row-start-3","row-start-2","col-start-2 row-start-1","col-start-3 row-start-2","col-start-3 row-start-3"][t];case 4:return["row-start-3","row-start-2","col-start-3 row-start-2","col-start-3 row-start-1"][t];case 3:return["row-start-2","col-start-2","col-start-3 row-start-2"][t];case 2:return["row-start-2","col-start-3 row-start-2"][t];case 1:return"col-start-2 row-start-1";default:return""}}export{f as a,$ as b};
