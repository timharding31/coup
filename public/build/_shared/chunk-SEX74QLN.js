import{a as f}from"/build/_shared/chunk-SD2ALP5K.js";import{a as p}from"/build/_shared/chunk-GLD3MH4Q.js";import{a as P}from"/build/_shared/chunk-OR2O4ND3.js";import{a as b,b as c}from"/build/_shared/chunk-F33EF4G7.js";import{d as n}from"/build/_shared/chunk-2QEWK57A.js";var g=n(b(),1);function N(){let t=(0,g.useContext)(f);if(!t)throw new Error("useGameSocket must be used within a GameSocketProvider");return t}function m(){return(0,g.useContext)(f)?.game||null}var e=n(c(),1),v=({username:t,influence:o,coins:s,isCurrentPlayer:i=!1})=>{let r=m();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{className:"inline-flex items-center gap-1",children:[i&&(0,e.jsx)("span",{className:"inline-block rounded-full bg-nord-13 w-2 h-2"}),"Username: ",t]}),(0,e.jsxs)("li",{children:["Coins: ",s]})]}),(0,e.jsx)("div",{className:`grid grid-cols-${o.length} gap-2`,children:o.map(l=>(0,e.jsx)(p,{isFaceDown:!r||r.status==="WAITING",...l},l.id))})]})};var d=n(c(),1);var G=({influence:t,coins:o})=>{let s=m();return(0,d.jsxs)("div",{className:"grid grid-rows-[auto_auto] px-2 pb-2",children:[(0,d.jsxs)("div",{children:["Coins: ",o]}),(0,d.jsx)("div",{className:`grid grid-cols-${t.length} gap-2`,children:t.map(i=>(0,d.jsx)(p,{isFaceDown:!s||s.status==="WAITING",...i},i.id))})]})};var a=n(c(),1),B=({playerId:t,status:o,onStartGame:s,children:i})=>{let r=m();if(!r)return null;let l=r.players.findIndex(u=>u.id===t),y=r.players[l],x=r.players[r.currentPlayerIndex],w=r.players.slice(l+1).concat(r.players.slice(0,l));return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-stretch justify-betweeen gap-2 relative",children:[(0,a.jsx)("div",{className:"flex-auto grid grid-cols-4 grid-rows-[auto_auto_auto] gap-4",children:w.map((u,h)=>(0,a.jsx)("div",{className:`col-span-2 ${H(h,w.length)}`,children:(0,a.jsx)(v,{...u,isCurrentPlayer:x.id===u.id})},u.id))}),y!=null&&(0,a.jsxs)("div",{className:"flex-none relative",children:[(0,a.jsx)(G,{...y}),o==="WAITING"&&s&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 rounded-xl bg-nord-4/10",children:(0,a.jsx)(P,{type:"button",variant:"success",onClick:()=>s(),children:"Start Game"})})]}),i]})};function H(t,o){switch(o){case 5:return["row-start-3","row-start-2","col-start-2 row-start-1","col-start-3 row-start-2","col-start-3 row-start-3"][t];case 4:return["row-start-3","row-start-2","col-start-3 row-start-2","col-start-3 row-start-1"][t];case 3:return["row-start-2","col-start-2","col-start-3 row-start-2"][t];case 2:return["row-start-2","col-start-3 row-start-2"][t];case 1:return"col-start-2 row-start-1";default:return""}}export{N as a,B as b};
