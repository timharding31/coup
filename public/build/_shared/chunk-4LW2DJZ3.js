import{a as p}from"/build/_shared/chunk-XKUTJMYR.js";import{a as P}from"/build/_shared/chunk-HK3UUHQE.js";import{a as w}from"/build/_shared/chunk-UIIZTT64.js";import{a as I,b as c}from"/build/_shared/chunk-WPWRVLZN.js";import{e as n}from"/build/_shared/chunk-2TWE7TSA.js";var v=n(I(),1);function f(){let t=(0,v.useContext)(w);if(!t)throw new Error("useGameSocket must be used within a GameSocketProvider");return t}function u(){return f().game}var e=n(c(),1),G=({username:t,influence:o,coins:s,isCurrentPlayer:i=!1})=>{let r=u();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{className:"inline-flex items-center gap-1",children:[i&&(0,e.jsx)("span",{className:"inline-block rounded-full bg-nord-13 w-2 h-2"}),"Username: ",t]}),(0,e.jsxs)("li",{children:["Coins: ",s]})]}),(0,e.jsx)("div",{className:`grid grid-cols-${o.length} gap-2`,children:o.map(l=>(0,e.jsx)(p,{isFaceDown:!r||r.status==="WAITING",...l},l.id))})]})};var m=n(c(),1);var h=({influence:t,coins:o})=>{let s=u();return(0,m.jsxs)("div",{className:"grid grid-rows-[auto_auto] px-2 pb-2",children:[(0,m.jsxs)("div",{children:["Coins: ",o]}),(0,m.jsx)("div",{className:`grid grid-cols-${t.length} gap-2`,children:t.map(i=>(0,m.jsx)(p,{isFaceDown:!s||s.status==="WAITING",...i},i.id))})]})};var a=n(c(),1),$=({playerId:t,status:o,onStartGame:s,children:i})=>{let{game:r}=f();if(!r)return null;let l=r.players.findIndex(d=>d.id===t),y=r.players[l],x=r.players[r.currentPlayerIndex],g=r.players.slice(l+1).concat(r.players.slice(0,l));return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-stretch justify-betweeen gap-2 relative",children:[(0,a.jsx)("div",{className:"flex-auto grid grid-cols-4 grid-rows-[auto_auto_auto] gap-4",children:g.map((d,H)=>(0,a.jsx)("div",{className:`col-span-2 ${N(H,g.length)}`,children:(0,a.jsx)(G,{...d,isCurrentPlayer:x.id===d.id})},d.id))}),y!=null&&(0,a.jsxs)("div",{className:"flex-none relative",children:[(0,a.jsx)(h,{...y}),o==="WAITING"&&s&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(P,{type:"button",variant:"success",onClick:()=>s(),children:"Start Game"})})]}),i]})};function N(t,o){switch(o){case 5:return["row-start-3","row-start-2","col-start-2 row-start-1","col-start-3 row-start-2","col-start-3 row-start-3"][t];case 4:return["row-start-3","row-start-2","col-start-3 row-start-2","col-start-3 row-start-1"][t];case 3:return["row-start-2","col-start-2","col-start-3 row-start-2"][t];case 2:return["row-start-2","col-start-3 row-start-2"][t];case 1:return"col-start-2 row-start-1";default:return""}}export{f as a,$ as b};
